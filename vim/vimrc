" æŒ™å‹•ã‚’ vi äº’æ›ã§ã¯ãªãã€Vim ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã«ã™ã‚‹ => .vimrcãŒå­˜åœ¨ã™ã‚Œã°è‡ªå‹•çš„ã«æœ‰åŠ¹åŒ–ã•ã‚Œã‚‹ã®ã§è¨­å®šä¸è¦
" set nocompatible
" ä¸€æ—¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—é–¢é€£ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹ => vim-plugã§ã¯ä¸è¦
" filetype off

""""""""""""""""""""""""""""""
" ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
""""""""""""""""""""""""""""""
call plug#begin('~/.vim/plugged')

" ãƒ•ã‚¡ã‚¤ãƒ«ã‚ªãƒ¼ãƒ—ãƒ³ã‚’ä¾¿åˆ©ã«
Plug 'Shougo/unite.vim'
" Unite.vimã§æœ€è¿‘ä½¿ã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
Plug 'Shougo/neomru.vim'
" ãƒ•ã‚¡ã‚¤ãƒ«ã‚’treeè¡¨ç¤ºã—ã¦ãã‚Œã‚‹
Plug 'scrooloose/nerdtree'
" Gitã‚’ä¾¿åˆ©ã«ä½¿ã†
Plug 'tpope/vim-fugitive'

" Railså‘ã‘ã®ã‚³ãƒãƒ³ãƒ‰ã‚’æä¾›ã™ã‚‹
" Plug 'tpope/vim-rails'
" Rubyå‘ã‘ã«endã‚’è‡ªå‹•æŒ¿å…¥ã—ã¦ãã‚Œã‚‹
Plug 'tpope/vim-endwise'

" ã‚³ãƒ¡ãƒ³ãƒˆON/OFFã‚’æ‰‹è»½ã«å®Ÿè¡Œ
Plug 'tomtom/tcomment_vim'
" ã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚ªãƒ¼ãƒˆã¨ãƒ€ãƒ–ãƒ«ã‚¯ã‚ªãƒ¼ãƒˆã®å…¥ã‚Œæ›¿ãˆç­‰
Plug 'tpope/vim-surround'

" ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã«è‰²ã‚’ä»˜ã‘ã¦è¦‹ã‚„ã™ãã™ã‚‹
Plug 'nathanaelkane/vim-indent-guides'
let g:indent_guides_enable_on_vim_startup = 1
" ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‰²ã¥ã‘ã—ã¦ãã‚Œã‚‹
Plug 'vim-scripts/AnsiEsc.vim'
" è¡Œæœ«ã®åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã‚’å¯è¦–åŒ–
Plug 'bronson/vim-trailing-whitespace'
" lessç”¨ã®syntaxãƒã‚¤ãƒ©ã‚¤ãƒˆ
" Plug 'KohPoll/vim-less'

" RubyMineã®ã‚ˆã†ã«è‡ªå‹•ä¿å­˜ã™ã‚‹
Plug '907th/vim-auto-save'
let g:auto_save = 1

" ä½™è«‡: neocompleteã¯åˆã‚ãªã‹ã£ãŸã€‚ctrl+pã§è£œå®Œã™ã‚‹ã®ãŒä¾¿åˆ©

" for Powerline
Plug 'vim-airline/vim-airline'
Plug 'vim-airline/vim-airline-themes'

call plug#end()

" filetypeã®æ¤œå‡ºã‚’æœ‰åŠ¹åŒ–ã™ã‚‹ => vim-plugã§ã¯ä¸è¦
" filetype plugin indent on
""""""""""""""""""""""""""""""

"""""""""""""""""""""""""""""""""
" Powerlineç³»ãƒ•ã‚©ãƒ³ãƒˆã‚’åˆ©ç”¨ã™ã‚‹
"""""""""""""""""""""""""""""""""
set laststatus=2
let g:airline_powerline_fonts = 1
let g:airline#extensions#tabline#enabled = 1
let g:airline#extensions#tabline#buffer_idx_mode = 1
let g:airline#extensions#whitespace#mixed_indent_algo = 1
"""let g:airline_theme = 'tomorrow'
let g:airline_theme = 'cobalt2'
if !exists('g:airline_symbols')
  let g:airline_symbols = {}
endif

" unicode symbols
let g:airline_left_sep = 'Â»'
let g:airline_left_sep = 'â–¶'
let g:airline_right_sep = 'Â«'
let g:airline_right_sep = 'â—€'
let g:airline_symbols.crypt = 'ğŸ”’'
let g:airline_symbols.linenr = 'â˜°'
let g:airline_symbols.linenr = 'âŠ'
let g:airline_symbols.linenr = 'â¤'
let g:airline_symbols.linenr = 'Â¶'
let g:airline_symbols.maxlinenr = ''
let g:airline_symbols.maxlinenr = 'ã‘'
let g:airline_symbols.branch = 'â‡'
let g:airline_symbols.paste = 'Ï'
let g:airline_symbols.paste = 'Ã'
let g:airline_symbols.paste = 'âˆ¥'
let g:airline_symbols.spell = 'ê¨'
let g:airline_symbols.notexists = 'âˆ„'
let g:airline_symbols.whitespace = 'Î'

" powerline symbols
let g:airline_left_sep = 'î‚°'
let g:airline_left_alt_sep = 'î‚±'
let g:airline_right_sep = 'î‚²'
let g:airline_right_alt_sep = 'î‚³'
let g:airline_symbols.branch = 'î‚ '
let g:airline_symbols.readonly = 'î‚¢'
let g:airline_symbols.linenr = 'â˜°'
let g:airline_symbols.maxlinenr = 'î‚¡'

""""""""""""""""""""""""""""""
" å„ç¨®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®è¨­å®š
""""""""""""""""""""""""""""""
" ã‚¿ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®æŒ‡å®š(ã§ã‚‚ã‚¿ã‚°ã‚¸ãƒ£ãƒ³ãƒ—ã¯ä½¿ã£ãŸã“ã¨ãŒãªã„)
set tags=~/.tags
" ã‚¹ãƒ¯ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä½¿ã‚ãªã„(ã¨ãã©ãé¢å€’ãªè­¦å‘ŠãŒå‡ºã‚‹ã ã‘ã§å½¹ã«ç«‹ã£ãŸã“ã¨ãŒãªã„)
set noswapfile
" undoãƒ•ã‚¡ã‚¤ãƒ«ã¯ä½œæˆã—ãªã„
set noundofile
" ã‚«ãƒ¼ã‚½ãƒ«ãŒä½•è¡Œç›®ã®ä½•åˆ—ç›®ã«ç½®ã‹ã‚Œã¦ã„ã‚‹ã‹ã‚’è¡¨ç¤ºã™ã‚‹
set ruler
" ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã«ä½¿ã‚ã‚Œã‚‹ç”»é¢ä¸Šã®è¡Œæ•°
set cmdheight=2
" ã‚¨ãƒ‡ã‚£ã‚¿ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®æœ«å°¾ã‹ã‚‰2è¡Œç›®ã«ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ©ã‚¤ãƒ³ã‚’å¸¸æ™‚è¡¨ç¤ºã•ã›ã‚‹
set laststatus=2
" ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡Œã«è¡¨ç¤ºã•ã›ã‚‹æƒ…å ±ã®æŒ‡å®š(ã©ã“ã‹ã‚‰ã‹ã‚³ãƒ”ãƒšã—ãŸã®ã§ç´°ã‹ã„æ„å‘³ã¯ã‚ã‹ã£ã¦ã„ãªã„)
set statusline=%<%f\ %m%r%h%w%{'['.(&fenc!=''?&fenc:&enc).']['.&ff.']'}%=%l,%c%V%8P
" ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡Œã«ç¾åœ¨ã®gitãƒ–ãƒ©ãƒ³ãƒã‚’è¡¨ç¤ºã™ã‚‹
set statusline+=%{fugitive#statusline()}
" ã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦ã®ã‚¿ã‚¤ãƒˆãƒ«ãƒãƒ¼ã«ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹æƒ…å ±ç­‰ã‚’è¡¨ç¤ºã™ã‚‹
set title
" ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ‰ã§<Tab>ã‚­ãƒ¼ã«ã‚ˆã‚‹ãƒ•ã‚¡ã‚¤ãƒ«åè£œå®Œã‚’æœ‰åŠ¹ã«ã™ã‚‹
set wildmenu
" å…¥åŠ›ä¸­ã®ã‚³ãƒãƒ³ãƒ‰ã‚’è¡¨ç¤ºã™ã‚‹
set showcmd
" ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æŒ‡å®š(ã§ã‚‚ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¯ä½¿ã£ã¦ãªã„)
set backupdir=$HOME/.vimbackup
" ãƒãƒƒãƒ•ã‚¡ã§é–‹ã„ã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã‚¨ã‚¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ©ã‚’é–‹å§‹ã™ã‚‹(ã§ã‚‚ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ã£ã¦ä½¿ã£ã¦ãªã„)
set browsedir=buffer
" å°æ–‡å­—ã®ã¿ã§æ¤œç´¢ã—ãŸã¨ãã«å¤§æ–‡å­—å°æ–‡å­—ã‚’ç„¡è¦–ã™ã‚‹
set smartcase
" æ¤œç´¢çµæœã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºã™ã‚‹
set hlsearch
" æš—ã„èƒŒæ™¯è‰²ã«åˆã‚ã›ãŸé…è‰²ã«ã™ã‚‹
set background=dark
" ã‚¿ãƒ–å…¥åŠ›ã‚’è¤‡æ•°ã®ç©ºç™½å…¥åŠ›ã«ç½®ãæ›ãˆã‚‹
set expandtab
" æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ã®æœ€åˆã®æ–‡å­—ã‚’å…¥åŠ›ã—ãŸæ™‚ç‚¹ã§æ¤œç´¢ã‚’é–‹å§‹ã™ã‚‹
set incsearch
" ä¿å­˜ã•ã‚Œã¦ã„ãªã„ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ã¨ãã§ã‚‚åˆ¥ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã‘ã‚‹ã‚ˆã†ã«ã™ã‚‹
set hidden
" ä¸å¯è¦–æ–‡å­—ã‚’è¡¨ç¤ºã™ã‚‹
set list
" ã‚¿ãƒ–ã¨è¡Œã®ç¶šãã‚’å¯è¦–åŒ–ã™ã‚‹
set listchars=tab:>\ ,extends:<
" è¡Œç•ªå·ã‚’è¡¨ç¤ºã™ã‚‹
set number
" å¯¾å¿œã™ã‚‹æ‹¬å¼§ã‚„ãƒ–ãƒ¬ãƒ¼ã‚¹ã‚’è¡¨ç¤ºã™ã‚‹
set showmatch
" æ”¹è¡Œæ™‚ã«å‰ã®è¡Œã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’ç¶™ç¶šã™ã‚‹
set autoindent
" æ”¹è¡Œæ™‚ã«å…¥åŠ›ã•ã‚ŒãŸè¡Œã®æœ«å°¾ã«åˆã‚ã›ã¦æ¬¡ã®è¡Œã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’å¢—æ¸›ã™ã‚‹
set smartindent
" ã‚¿ãƒ–æ–‡å­—ã®è¡¨ç¤ºå¹…
set tabstop=2
" VimãŒæŒ¿å…¥ã™ã‚‹ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã®å¹…
set shiftwidth=2
" è¡Œé ­ã®ä½™ç™½å†…ã§ Tab ã‚’æ‰“ã¡è¾¼ã‚€ã¨ã€'shiftwidth' ã®æ•°ã ã‘ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã™ã‚‹
set smarttab
" ã‚«ãƒ¼ã‚½ãƒ«ã‚’è¡Œé ­ã€è¡Œæœ«ã§æ­¢ã¾ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹
set whichwrap=b,s,h,l,<,>,[,]
" æ§‹æ–‡æ¯ã«æ–‡å­—è‰²ã‚’å¤‰åŒ–ã•ã›ã‚‹
syntax on
" ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒã®æŒ‡å®š
colorscheme desert
" è¡Œç•ªå·ã®è‰²
highlight LineNr ctermfg=darkyellow
" å‹æ‰‹ã«æ”¹è¡Œã™ã‚‹ã®ã‚’é˜²ã
" set textwidth=0
set formatoptions=q
" textwidthã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã›ãŸããªã„
set formatoptions=q
" ã‚¯ãƒ©ãƒƒã‚·ãƒ¥é˜²æ­¢ï¼ˆhttp://superuser.com/questions/810622/vim-crashes-freezes-on-specific-files-mac-osx-mavericksï¼‰
set synmaxcol=200
""""""""""""""""""""""""""""""

" grepæ¤œç´¢ã®å®Ÿè¡Œå¾Œã«QuickFix Listã‚’è¡¨ç¤ºã™ã‚‹
autocmd QuickFixCmdPost *grep* cwindow

" http://blog.remora.cx/2010/12/vim-ref-with-unite.html
""""""""""""""""""""""""""""""
" Unite.vimã®è¨­å®š
""""""""""""""""""""""""""""""
" å…¥åŠ›ãƒ¢ãƒ¼ãƒ‰ã§é–‹å§‹ã™ã‚‹
let g:unite_enable_start_insert=1
" ãƒãƒƒãƒ•ã‚¡ä¸€è¦§
noremap <C-P> :Unite buffer<CR>
" ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
noremap <C-N> :Unite -buffer-name=file file<CR>
" æœ€è¿‘ä½¿ã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€è¦§
noremap <C-Z> :Unite file_mru<CR>
" sourcesã‚’ã€Œä»Šé–‹ã„ã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€ã¨ã™ã‚‹
noremap :uff :<C-u>UniteWithBufferDir file -buffer-name=file<CR>
" ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’åˆ†å‰²ã—ã¦é–‹ã
au FileType unite nnoremap <silent> <buffer> <expr> <C-J> unite#do_action('split')
au FileType unite inoremap <silent> <buffer> <expr> <C-J> unite#do_action('split')
" ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ç¸¦ã«åˆ†å‰²ã—ã¦é–‹ã
au FileType unite nnoremap <silent> <buffer> <expr> <C-K> unite#do_action('vsplit')
au FileType unite inoremap <silent> <buffer> <expr> <C-K> unite#do_action('vsplit')
" ESCã‚­ãƒ¼ã‚’2å›æŠ¼ã™ã¨çµ‚äº†ã™ã‚‹
au FileType unite nnoremap <silent> <buffer> <ESC><ESC> :q<CR>
au FileType unite inoremap <silent> <buffer> <ESC><ESC> <ESC>:q<CR>
""""""""""""""""""""""""""""""

" http://inari.hatenablog.com/entry/2014/05/05/231307
""""""""""""""""""""""""""""""
" å…¨è§’ã‚¹ãƒšãƒ¼ã‚¹ã®è¡¨ç¤º
""""""""""""""""""""""""""""""
function! ZenkakuSpace()
    highlight ZenkakuSpace cterm=underline ctermfg=lightblue guibg=darkgray
endfunction

if has('syntax')
    augroup ZenkakuSpace
        autocmd!
        autocmd ColorScheme * call ZenkakuSpace()
        autocmd VimEnter,WinEnter,BufRead * let w:m1=matchadd('ZenkakuSpace', 'ã€€')
    augroup END
    call ZenkakuSpace()
endif
""""""""""""""""""""""""""""""

" https://sites.google.com/site/fudist/Home/vim-nihongo-ban/-vimrc-sample
""""""""""""""""""""""""""""""
" æŒ¿å…¥ãƒ¢ãƒ¼ãƒ‰æ™‚ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ©ã‚¤ãƒ³ã®è‰²ã‚’å¤‰æ›´
""""""""""""""""""""""""""""""
let g:hi_insert = 'highlight StatusLine guifg=darkblue guibg=darkyellow gui=none ctermfg=blue ctermbg=yellow cterm=none'

if has('syntax')
  augroup InsertHook
    autocmd!
    autocmd InsertEnter * call s:StatusLine('Enter')
    autocmd InsertLeave * call s:StatusLine('Leave')
  augroup END
endif

let s:slhlcmd = ''
function! s:StatusLine(mode)
  if a:mode == 'Enter'
    silent! let s:slhlcmd = 'highlight ' . s:GetHighlight('StatusLine')
    silent exec g:hi_insert
  else
    highlight clear StatusLine
    silent exec s:slhlcmd
  endif
endfunction

function! s:GetHighlight(hi)
  redir => hl
  exec 'highlight '.a:hi
  redir END
  let hl = substitute(hl, '[\r\n]', '', 'g')
  let hl = substitute(hl, 'xxx', '', '')
  return hl
endfunction
""""""""""""""""""""""""""""""

""""""""""""""""""""""""""""""
" æœ€å¾Œã®ã‚«ãƒ¼ã‚½ãƒ«ä½ç½®ã‚’å¾©å…ƒã™ã‚‹
""""""""""""""""""""""""""""""
if has("autocmd")
    autocmd BufReadPost *
    \ if line("'\"") > 0 && line ("'\"") <= line("$") |
    \   exe "normal! g'\"" |
    \ endif
endif
""""""""""""""""""""""""""""""

""""""""""""""""""""""""""""""
" è‡ªå‹•çš„ã«é–‰ã˜æ‹¬å¼§ã‚’å…¥åŠ›
""""""""""""""""""""""""""""""
imap { {}<LEFT>
imap [ []<LEFT>
imap ( ()<LEFT>
""""""""""""""""""""""""""""""

" filetypeã®è‡ªå‹•æ¤œå‡º(æœ€å¾Œã®æ–¹ã«æ›¸ã„ãŸæ–¹ãŒã„ã„ã‚‰ã—ã„)
filetype on
